#
# This is OpenOCD configuration
# autogenerated by Beyond Studio on Tue Apr 23 13:33:28 CEST 2024
#

# Beyond Debug Key configuration based on selected parameters

adapter driver ftdi
ftdi device_desc "Debug Key"
ftdi vid_pid 0x0403 0x6010
ftdi channel 0

# use debug key with specified serial number
# configure jtag + uart
ftdi layout_init 0x0f30 0xff3b
ftdi layout_signal nTRST -data 0x0100 -noe 0x0400
ftdi layout_signal nSRST -data 0x0200 -noe 0x0800

adapter speed 3000

# server configuration
gdb_port 3333


# BA5x configuration

transport select jtag
set _CHIPNAME riscv

jtag newtap $_CHIPNAME cpu -irlen 5 -expected-id 0x14951185
reset_config trst_and_srst
set _TARGETNAME $_CHIPNAME.cpu
target create $_TARGETNAME riscv -chain-position $_TARGETNAME
$_TARGETNAME configure -work-area-phys 0x80000000 -work-area-size 8096 -work-area-backup 0

gdb_report_data_abort enable
gdb_report_register_access_error enable
riscv expose_csrs 2032-2048
init
halt

# following output is required for proper initialization of bstudio listener
echo "Ready for Remote Connections"
